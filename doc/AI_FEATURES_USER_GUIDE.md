# AI 功能使用指南

TODO: @shanshan 

## 📖 目录

- [功能概览](#功能概览)
- [使用步骤](#使用步骤)
- [功能详解](#功能详解)
- [使用技巧](#使用技巧)
- [常见问题](#常见问题)

---

## 🎯 功能概览

番茄猫插件集成了 3 种 Chrome Built-in AI API：

| API | 功能 | 入口 | 用途 |
|-----|------|------|------|
| **Prompt API** | 通用对话 | 统一 AI Demo / Chrome 内置 AI | 问答、对话、创意生成 |
| **Writer API** | 文本创作 | Cat Messages | 生成鼓励消息 |
| **Summarizer API** | 内容摘要 | Daily Summary | 每日工作总结 |

---

## 🚀 使用步骤

### 前提条件

**选项 A：使用本地 AI（推荐）**
1. Chrome Canary 127+
2. 启用 flags（参考 [CHROME_AI_SETUP.md](./CHROME_AI_SETUP.md)）
3. 下载 Gemini Nano 模型

**选项 B：使用云端 AI（备用）**
1. 获取 Gemini API Key（参考 [GEMINI_API_KEY_SETUP.md](./GEMINI_API_KEY_SETUP.md)）
2. 在插件中配置 API Key

**推荐配置**：同时配置本地和云端，自动智能切换

---

### 基本操作流程

```
1. 打开插件
   ↓
2. 点击 🤖 AI 按钮
   ↓
3. 选择功能
   ↓
4. 使用 AI 功能
```

---

## 📱 功能详解

### 1️⃣ 统一 AI Demo（推荐）⭐

**功能**：智能对话，自动切换本地/云端 AI

**使用步骤**：
1. AI 菜单 → **"统一 AI Demo"**
2. 查看 AI 状态：
   - 🟢 绿色 = 已就绪
   - 🟡 黄色 = 下载中
   - 🔴 红色 = 不可用
3. 查看可用提供商：
   - 💻 内置 AI（本地）
   - ☁️ 云端 AI（Gemini）
4. 点击预设示例或输入问题
5. 点击"发送"
6. 查看 AI 回复

**预设示例**：
- "给我一句鼓励的话"
- "如何提高专注力？"
- "番茄工作法的好处"
- "写一首关于学习的小诗"

**特点**：
- ✅ 自动选择最佳 AI
- ✅ 显示当前提供商
- ✅ 支持自定义问题
- ✅ 保持对话上下文

**适用场景**：
- 日常对话
- 问题咨询
- 创意激发
- 学习辅助

---

### 2️⃣ Chrome 内置 AI Demo

**功能**：纯本地 AI 对话

**使用步骤**：
1. AI 菜单 → **"Chrome 内置 AI"**
2. 查看 API 状态
3. 点击示例或输入问题
4. 点击"发送"
5. 查看回复

**特点**：
- ✅ 完全本地运行
- ✅ 无需网络
- ✅ 保护隐私
- ✅ 响应快速
- ❌ 不支持云端降级

**适用场景**：
- 测试本地 AI
- 离线使用
- 隐私敏感场景

---

### 3️⃣ Cat Messages（Writer API）

**功能**：生成番茄猫鼓励消息

**使用步骤**：
1. AI 菜单 → **"Cat Messages"**
2. 查看 Writer API 状态
3. 点击 **"Generate Message"**
4. 查看生成的消息
5. 可多次点击生成不同消息

**生成示例**：
```
🍅 加油！你今天已经完成了 3 个番茄钟！

😺 休息一下，喝杯水吧~

💪 专注的你最棒了！继续保持！

🌟 每一个番茄钟都是进步的一步！
```

**特点**：
- ✅ 可爱风格
- ✅ 鼓励语气
- ✅ 快速生成
- ✅ 多样化内容

**适用场景**：
- 需要鼓励时
- 完成任务后
- 休息时刻
- 提升动力

---

### 4️⃣ Daily Summary（Summarizer API）

**功能**：生成每日工作总结

**使用步骤**：
1. AI 菜单 → **"Daily Summary"**
2. 查看 Summarizer API 状态
3. 点击 **"Generate Summary"**
4. 查看每日总结
5. 了解工作情况和建议

**总结内容**：
```
📊 今日工作总结

完成情况：
• 完成 5 个番茄钟
• 专注时长：2 小时 5 分钟
• 完成任务：3/5

工作分析：
• 上午效率最高
• 下午有所下降
• 建议增加休息频率

明日建议：
• 保持当前节奏
• 尝试更多任务
• 注意劳逸结合
```

**特点**：
- ✅ 数据分析
- ✅ 工作洞察
- ✅ 改进建议
- ✅ 趋势追踪

**适用场景**：
- 每日回顾
- 工作复盘
- 效率分析
- 计划调整

---

### 5️⃣ AI 设置

**功能**：配置 Gemini API Key

**使用步骤**：
1. AI 菜单 → **"AI 设置"**
2. 输入 API Key
3. 点击"保存"
4. 验证配置

**详细说明**：参考 [GEMINI_API_KEY_SETUP.md](./GEMINI_API_KEY_SETUP.md)

---

## 💡 使用技巧

### 1. 优先使用"统一 AI Demo"

**原因**：
- 自动选择最佳 AI
- 支持云端备用
- 显示当前提供商
- 无缝切换体验

**使用建议**：
```
日常使用 → 统一 AI Demo
测试本地 → Chrome 内置 AI
快速鼓励 → Cat Messages
工作复盘 → Daily Summary
```

---

### 2. 提示词优化

**✅ 好的提示词**：
- "用一句话总结番茄工作法"
- "给我 3 个提高专注力的建议"
- "写一首 4 行的关于学习的诗"
- "解释什么是深度工作"

**❌ 避免**：
- 过于复杂的任务
- 需要实时数据
- 超长文本（建议 < 200 字）

---

### 3. 查看 AI 状态

**状态指示器**：
- 🟢 绿色 = 可用
- 🟡 黄色 = 下载中
- 🔴 红色 = 不可用

**提供商显示**：
- 💻 内置 AI = 本地运行
- ☁️ 云端 AI = 使用 API Key

---

### 4. 配置双重保障

**推荐配置**：
1. 配置本地 AI（主要）
2. 配置云端 AI（备用）
3. 自动智能切换

**好处**：
- 本地优先（快速、隐私）
- 云端备用（稳定、可靠）
- 无缝切换（自动降级）

---

### 5. 预设示例的使用

**作用**：
- 快速体验功能
- 了解 AI 风格
- 作为提示词参考

**使用方法**：
1. 点击示例
2. 查看回复
3. 根据需要修改
4. 发送自定义问题

---

## 🎨 界面导航

```
主界面
  ↓ 点击 🤖
AI 菜单
  ├─ 统一 AI Demo ⭐
  │   ├─ 查看状态
  │   ├─ 选择示例
  │   └─ 输入问题
  │
  ├─ Chrome 内置 AI
  │   └─ 本地对话
  │
  ├─ Cat Messages
  │   └─ 生成鼓励
  │
  ├─ Daily Summary
  │   └─ 工作总结
  │
  └─ AI 设置
      └─ 配置 Key
```

---

## 📊 功能对比

| 功能 | 统一 AI Demo | Chrome 内置 AI | Cat Messages | Daily Summary |
|------|-------------|---------------|--------------|---------------|
| API | Prompt | Prompt | Writer | Summarizer |
| 提供商 | 本地/云端 | 仅本地 | 本地 | 本地 |
| 自定义 | ✅ | ✅ | ❌ | ❌ |
| 预设 | ✅ | ✅ | ❌ | ❌ |
| 上下文 | ✅ | ✅ | ❌ | ❌ |
| 适用 | 通用 | 测试 | 鼓励 | 总结 |

---

## ❓ 常见问题

### Q: 如何知道使用的是哪个 AI？
**A:** 
在"统一 AI Demo"中查看：
- 💻 = 内置 AI（本地）
- ☁️ = 云端 AI（API Key）

### Q: 为什么显示"不可用"？
**A:** 
检查：
1. Chrome 版本 >= 127
2. Flags 已启用
3. 模型已下载
4. 或配置 API Key

### Q: 如何切换提供商？
**A:** 
自动切换，优先级：
1. 内置 AI（本地）
2. 云端 AI（API Key）

### Q: 可以同时使用多个功能吗？
**A:** 
可以！每个功能独立：
- 生成消息
- 查看总结
- 进行对话

### Q: 响应时间多久？
**A:** 
- 本地 AI：0.5-2 秒
- 云端 AI：1-3 秒
- 首次：可能稍慢

### Q: 如何提高响应质量？
**A:** 
1. 使用清晰的提示词
2. 提供足够上下文
3. 分步提问
4. 参考预设示例

### Q: 数据会上传吗？
**A:** 
- 本地 AI：完全本地，不上传
- 云端 AI：发送到 Google（加密）
- API Key：仅本地存储

### Q: 如何查看使用记录？
**A:** 
目前不保存历史，每次独立：
- 对话不保存
- 消息不保存
- 总结不保存

### Q: 可以导出内容吗？
**A:** 
目前不支持导出，可以：
1. 复制文本
2. 截图保存
3. 手动记录

### Q: 如何反馈问题？
**A:** 
1. 查看 Console 错误
2. 检查配置
3. 参考文档
4. 提交 Issue

---

## 🎯 使用场景示例

### 场景 1：学习助手
```
用户：解释什么是深度工作
AI：深度工作是指在无干扰状态下专注于认知要求高的任务...
```

### 场景 2：鼓励陪伴
```
用户：点击 Cat Messages
AI：太棒了！🍅 你的专注力真强，继续保持这个节奏！
```

### 场景 3：工作复盘
```
用户：点击 Daily Summary
AI：今日完成 5 个番茄钟，专注时长 2 小时，建议...
```

### 场景 4：创意激发
```
用户：写一句关于坚持的名言
AI：每一个番茄钟，都是通往目标的一小步。
```

---

## 🔗 相关文档

- [Chrome AI 配置](./CHROME_AI_SETUP.md) - 浏览器配置
- [API Key 设置](./GEMINI_API_KEY_SETUP.md) - 云端配置
- [AI 服务指南](./AI_SERVICE_GUIDE.md) - 技术文档
- [快速参考](./AI_QUICK_REFERENCE.md) - API 速查

---

**版本**: v1.0.0  
**更新日期**: 2025-10-30  
**作者**: Kiro AI Assistant
